{% extends 'anki/layout.html' %}

{% load crispy_forms_tags %}

{% block title %}My collection{% endblock %}

{% block main %}
    <section id="deck-section">
        <h5>My decks</h5>
        <ul>
            {% for deck in decks %}
                <a href="#" id="id-{{ deck.id }}" data-id="{{ deck.id }}" class="deck">{{ deck.name }}</a>
            {% endfor %}
        </ul>
    </section>

    <section id="archive-section" style="display: none;">
        <form action="{% url 'archive' %}" method="post" id="archive-form">
            {% csrf_token %}
            <input type="hidden" name="deck-to-archive" id="deck-to-archive">
            <input type="submit" value="Archive list">
        </form>
    </section>

    <section id="list-section">
    </section>

    <section id="edit-section" style="display: none;">
        <h5>Edit card</h5>
            <form action="#" method="post" id="basic-card-form">
                {% csrf_token %}
                {{ basic_card_form | crispy }}
                <input type="hidden" id="id-field">
                <input type="submit" value="save">
            </form>
    </section>

    <section id="card-form-section">
        <h5>Create new card</h5>
            <form action="{% url 'create' 'basic card' %}" method="post" id="basic-card-form">
                {% csrf_token %}
                {{ basic_card_form | crispy }}
                <input type="submit" value="create">
            </form>
    </section>
    
    <section id="deck-form-section">
        <h5>Create new deck</h5>
            <form action="{% url 'create' 'deck' %}" method="post" id="deck-form">
                {% csrf_token %}
                {{ deck_form | crispy }}
                <input type="submit" value="create">
            </form>
    </section>
{% endblock %}